rd_step_legwear = {
	# interface_position = 1
	usage = game
	selection_behavior = max
	
	rd_step_no_legwear = {
		usage = game 
		dna_modifiers = {
			accessory = {
				mode = add
		
				gene = legwear
				template = no_legwear
				value = 0
			}
		}
        outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				portrait_rd_step_clothing_trigger = yes
				add = 1000
				AND = {
					# Deliberately not the "fully naked" one since you'll wear a nightgown if we don't allow full nudity
					should_be_naked_trigger = yes
				}
			}
		}
	}

## No Leg wear for children under 4 ## 

	rd_step_children_no_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = no_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_rd_step_clothing_trigger = yes
				scope:age < 4
			}
		}
	}

	rd_step_default_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = western_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 1
				OR = {
portrait_rd_step_clothing_trigger = yes
				}
			}
		}

	}
	rd_step_mena_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mena_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				OR = {
portrait_rd_step_clothing_trigger = yes
				}
			}
		}
	}

	rd_step_mena_nobility_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mena_nobility_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				trigger_if = {
					limit = { exists = this }
					OR = {
						AND = {
							OR = {
								highest_held_title_tier > tier_county
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							OR = {
portrait_rd_step_clothing_trigger = yes
							}
						}
						AND = {
							exists = primary_spouse
							OR = {
								is_ruler = no
								highest_held_title_tier = tier_barony
							}
							primary_spouse = {
								OR = {
									highest_held_title_tier > tier_county
									AND = {
										government_has_flag = government_is_republic
										primary_title.tier > 1
									}
									AND = { is_ruler = yes government_has_flag = government_is_theocracy }
								}
								OR = {
portrait_rd_step_clothing_trigger = yes
								}
							}
						}
					}
				}
				trigger_else = {
					scope:highest_held_title_tier > tier_county
					OR = {
portrait_rd_step_clothing_trigger = yes
					}
				}
			}
		}
	}

	rd_step_mena_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mena_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		outfit_tags = { mena_war_legwear }
		weight = {
			base = 0
			modifier = {
				add = 101
				portrait_wear_armor_trigger = yes
				OR = {
portrait_rd_step_clothing_trigger = yes
				}
			}
		}
	}
}
