
rd_step_clothes = {

	usage = game
	selection_behavior = weighted_random
	priority = 1

	rd_step_clothes_no_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = no_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = -100
            modifier = {
                add = 1000
                should_be_fully_naked_portrait_trigger = yes
            }
            modifier = {
                add = 1000
                should_be_topless_portrait_trigger = yes
            }
            modifier = {
            	add = -1000
            	should_show_nudity = no
            }
        }
    }

	rd_step_clothes_default_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = rd_steppe_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = -100
        }
    }

## So that the Prophet Muhammad does not have a portrait ## 

	rd_step_clothes_no_portrait = {
		dna_modifiers = {
			accessory = {
				mode = add				
				gene = clothes
				template = no_clothes
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 200
				this = character:33922
			}
		}
	}

## Small children ## 

	rd_step_clothes_western_children = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = western_children_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				age < 4
			}
		}
	}
	rd_step_clothes_mena_prison = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mena_prison
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 110
				is_imprisoned = yes
				is_in_prison_type = dungeon
				OR = {
					portrait_rd_step_clothing_trigger = yes
				}
			}
		}
	}
	rd_steppe_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = rd_steppe_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
				template = bust_clothes
			}

		}	
		weight = {
			base = 0
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = rd_step
                }
			}
		}
	}

	rd_steppe_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = rd_steppe_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
				template = bust_clothes
			}

		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				exists = court_owner
				court_owner = {
					has_royal_court = yes
					amenity_level = { type = court_fashion value >= 4 }
				}
				portrait_rd_step_clothing_trigger = yes
			}
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = rd_step
                } 
			}
		}
	}

	rd_steppe_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mpo_mongol_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
				template = bust_clothes
			}

		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				exists = court_owner
				court_owner = {
					has_royal_court = yes
					amenity_level = { type = court_fashion value = 5 }
				}
				portrait_rd_step_clothing_trigger = yes
			}
			modifier = {
				add = 50
				trigger_if = {
					limit = { exists = this }
					OR = {
						AND = {
							OR = {
								highest_held_title_tier > tier_county
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								AND = { is_ruler = yes has_government = theocracy_government }
							}
							NOT = { AND = { is_ruler = yes has_government = mercenary_government  } } # Blocked for mercenaries
							portrait_rd_step_clothing_trigger = yes
						}
						AND = {
							exists = primary_spouse
							OR = {
								is_ruler = no
								highest_held_title_tier = tier_barony
							}
							primary_spouse = {
								OR = {
									highest_held_title_tier > tier_county
									AND = {
										has_government = republic_government
										primary_title.tier > 1
									}
									AND = { is_ruler = yes has_government = theocracy_government }
								}
								portrait_rd_step_clothing_spouse_trigger = yes
							}
						}
					}
				}
				trigger_else = {
					scope:highest_held_title_tier > tier_county
					portrait_rd_step_clothing_trigger = yes
				}
			}
		}
	}
 rd_mpo_mongol_royalty = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mpo_mongol_royalty_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 105
                portrait_royalty_clothing_trigger = { 
                    CULTURE_INPUT = rd_step
                }                 
                has_mpo_dlc_trigger = yes        
            }
        }
    }

    rd_mpo_mongol_imperial = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mpo_mongol_imperial_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 105
                portrait_imperial_clothing_trigger = { 
                    CULTURE_INPUT = rd_step
                }                 
                has_mpo_dlc_trigger = yes        
            }
        }
    }

}